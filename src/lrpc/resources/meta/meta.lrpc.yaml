name: meta_def
services:
  - name: LrpcMeta
    streams:
      - name: error
        id: 0
        origin: server
        finite: false
        params:
          - { name: type, type: "@LrpcMetaError" }
          - { name: p1, type: uint8_t }
          - { name: p2, type: uint8_t }
          - { name: p3, type: int32_t }
          - { name: message, type: string }
      - name: definition
        id: 1
        origin: server
        finite: true
        params:
          - { name: chunk, type: bytearray }
    functions:
      - name: version
        id: 2
        returns:
          - { name: definition, type: string }
          - { name: definition_hash, type: string }
          - { name: lrpc, type: string }
enums:
  - name: LrpcMetaError
    external: "lrpccore/MetaError.hpp"
    external_namespace: lrpc
    fields:
      - UnknownService
      - UnknownFunctionOrStream
